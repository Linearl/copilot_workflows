# [目标模块名] 与 [参考模块名] 接口对比分析模板

> **使用说明**: 本模板用于重构过程中，当用户提供了可参考的现有模块时，进行详细的接口对比分析，以指导代码复用和架构设计决策。

## 📋 文档基本信息

- **目标模块**: [填写待开发的新模块名称]
- **参考模块**: [填写已有的参考模块名称]  
- **分析目的**: [填写对比分析的具体目标，如功能复用、接口统一等]
- **重构阶段**: [填写当前重构所处的阶段，如P1、P2等]
- **分析时间**: [填写分析完成时间]

## 📊 基于[参考模块]的复用分析

### 🔄 可直接复用的核心方法

> **填写说明**: 列出可以100%直接复用的方法，这些方法通常是通用的工具函数或基础操作

| 功能分类 | [参考模块] | [目标模块] | 复用状态 | 复用建议 |
|----------|------------|------------|----------|----------|
| **[功能类别1]** | `方法名1()` | `方法名1()` | ✅ 100%复用 | [填写复用建议] |
| **[功能类别2]** | `方法名2()` | `方法名2()` | ✅ 100%复用 | [填写复用建议] |
| **[功能类别3]** | `方法名3()` | `方法名3()` | ✅ 100%复用 | [填写复用建议] |

### 🔀 需要适配的业务方法

> **填写说明**: 列出需要适配的方法，这些方法通常有相同的功能模式但需要调整参数或业务逻辑

| 功能分类 | [参考模块] | [目标模块] | 适配类型 | 适配说明 |
|----------|------------|------------|----------|----------|
| **[功能类别1]** | `原方法名()` | `新方法名()` | 🔀 字段适配 | [填写具体的适配说明] |
| **[功能类别2]** | `原方法名()` | `新方法名()` | 🔀 业务适配 | [填写具体的适配说明] |
| **[功能类别3]** | `原方法名()` | `新方法名()` | 🔀 参数适配 | [填写具体的适配说明] |

### ➕ [目标模块]特有的新增功能

> **填写说明**: 列出目标模块需要新增的功能，这些是参考模块没有的特有需求

| 功能分类 | [目标模块] | 技术依赖 | 必要性 | 实现建议 |
|----------|------------|----------|--------|----------|
| **[新功能1]** | `新方法名1()` | [依赖库] | ✅ 必要 | [填写实现建议] |
| **[新功能2]** | `新方法名2()` | [依赖库] | 🟡 可选 | [填写实现建议] |

### ❌ [参考模块]独有但不需要的功能

> **填写说明**: 列出参考模块有但目标模块不需要的功能

| 功能分类 | [参考模块] | 在[目标模块]中是否需要 | 状态 | 说明 |
|----------|------------|------------------------|------|------|
| **[功能1]** | `方法名1()` | ❌ 不需要 | 跳过 | [填写不需要的原因] |
| **[功能2]** | `方法名2()` | 🟡 可选 | 待定 | [填写可选的原因] |

## 📋 数据结构对比分析

### [参考模块] vs [目标模块]数据字段映射

> **填写说明**: 如果涉及数据结构的对比，详细列出字段映射关系

| [参考模块]字段 | [目标模块]字段 | 字段类型 | 映射说明 |
|---------------|---------------|----------|----------|
| [原字段名1] | [新字段名1] | [数据类型] | [映射关系说明] |
| [原字段名2] | [新字段名2] | [数据类型] | [映射关系说明] |
| [原字段名3] | **新增字段** | [数据类型] | **新增功能**：[说明新增原因] |

### 配置结构对比

> **填写说明**: 如果涉及配置文件或参数结构的对比

```python
# [参考模块] 配置结构
reference_config = {
    "section1": {
        "param1": "value1",
        "param2": "value2"
    }
}

# [目标模块] 配置结构 (建议)
target_config = {
    "section1": {
        "param1": "value1",     # 保持一致
        "param2": "adapted_value2"  # 适配调整
    },
    "new_section": {            # 新增部分
        "new_param": "new_value"
    }
}
```

## 🏗️ 公共组件提取建议

### 建议提取到algorithm/common/的公共组件

> **填写说明**: 基于接口分析结果，建议提取哪些组件作为公共模块

#### 1. [公共基类名称] (核心基类)

```python
# 建议位置: algorithm/common/[文件名].py
class [公共基类名称]:
    """[基类功能描述]"""
    
    # 100%复用的方法列表
    def method1(self):
        """[方法1功能描述]"""
        
    def method2(self):
        """[方法2功能描述]"""
```

#### 2. [工具类名称] (辅助工具类)

```python
# 建议位置: algorithm/common/[文件名].py
class [工具类名称]:
    """[工具类功能描述]"""
    
    def utility_method1(self):
        """[工具方法1功能描述]"""
        
    def utility_method2(self):
        """[工具方法2功能描述]"""
```

### 具体模块继承关系

```python
# [参考模块文件路径]
class [参考模块类名]([公共基类名称]):
    """[参考模块描述]"""
    
    def specific_method1(self):
        """[参考模块特有功能1]"""

# [目标模块文件路径]  
class [目标模块类名]([公共基类名称]):
    """[目标模块描述]"""
    
    def specific_method1(self):
        """[目标模块特有功能1]"""
        
    def new_method1(self):
        """[目标模块新增功能1]"""
```

## 🔍 接口复用率分析

### 复用率统计

| 复用类别 | 方法数量 | 复用率 | 状态 |
|----------|----------|--------|------|
| 100%直接复用 | [数量]个 | [百分比]% | ✅ 推荐提取公共基类 |
| 需要适配 | [数量]个 | [百分比]% | 🔀 继承后重写 |
| 新增功能 | [数量]个 | [百分比]% | ➕ [目标模块]特有功能 |
| 不需要功能 | [数量]个 | [百分比]% | ❌ 跳过实现 |

### 复用优势分析

> **填写说明**: 分析代码复用带来的具体优势

1. **高代码复用率**: [百分比]%的方法可直接复用，显著减少开发工作量
2. **一致的用户体验**: [具体描述一致性体现]
3. **成熟的工具链**: [具体描述可复用的工具链]
4. **维护成本低**: [具体描述维护成本优势]

## 📝 实施建议

### 阶段1: 公共组件提取 (可选优化)

1. **提取[公共基类名称]**: [填写提取内容和目标]
2. **提取[工具类名称]**: [填写提取内容和目标]
3. **更新[参考模块]**: [填写更新策略]
4. **验证功能一致性**: [填写验证要求]

### 阶段2: [目标模块]实现

1. **继承公共基类**: [填写继承策略]
2. **实现适配方法**: [填写适配策略]
3. **新增特有功能**: [填写新增功能实现策略]
4. **集成现有工具**: [填写工具集成策略]

### 阶段3: 集成验证

1. **接口一致性验证**: [填写验证要求]
2. **性能基准测试**: [填写性能测试要求]
3. **用户体验测试**: [填写用户体验验证要求]

## 🎯 预期收益

### 开发效率提升

- **代码复用**: [百分比]%的核心功能直接复用，减少开发时间[时间]
- **质量保证**: [填写质量保证优势]
- **学习成本**: [填写学习成本优势]

### 长期维护优势

- **统一维护**: [填写统一维护优势]
- **功能扩展**: [填写功能扩展优势]
- **代码质量**: [填写代码质量优势]

## 🔧 技术风险评估

### 低风险项 (✅ 推荐直接实施)

1. **[风险项1]**: [风险评估说明]
2. **[风险项2]**: [风险评估说明]

### 中风险项 (🟡 需要验证)

1. **[风险项1]**: [风险评估说明]
2. **[风险项2]**: [风险评估说明]

### 高风险项 (🔴 需要谨慎处理)

1. **[风险项1]**: [风险评估说明]
2. **[风险项2]**: [风险评估说明]

### 建议缓解措施

1. **[缓解措施1]**: [具体缓解方案]
2. **[缓解措施2]**: [具体缓解方案]
3. **[缓解措施3]**: [具体缓解方案]

## 📊 结论

> **填写说明**: 基于详细的对比分析，给出明确的结论和建议

基于详细的接口对比分析，[目标模块]与[参考模块]具有[复用程度描述]的复用可能性：

### 核心结论

1. **复用率**: [百分比]%的核心功能可直接复用，[效果评估]
2. **架构一致性**: [架构一致性评估]
3. **技术成熟度**: [技术成熟度评估]
4. **维护优势**: [维护优势评估]

### 实施策略

**推荐采用"[实施策略名称]"模式**：

- [策略要点1]
- [策略要点2]
- [策略要点3]

这种方案既能[优势1]，又能[优势2]，是[阶段名称]的最优选择。

## 📚 参考资料

> **填写说明**: 列出分析过程中参考的文档、代码文件等

- [参考模块代码文件路径]
- [相关文档路径]
- [其他参考资料]

---

**分析完成时间**: [填写时间]  
**分析人员**: [填写分析人员]  
**复审状态**: [填写复审状态]
