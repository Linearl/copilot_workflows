# ğŸ”„ ç‰ˆæœ¬å¯¹æ¯”å·¥ä½œæµç¨‹æ¨¡æ¿

> **ç‰ˆæœ¬ç‰¹ç‚¹**: åˆ†é˜¶æ®µåˆ†æ + æ¨¡å—åŒ–å¯¹æ¯” + ä¸Šä¸‹æ–‡ç®¡ç† + å®‰å…¨å·¥ä½œåŒº

## ğŸ“‘ ç›®å½•ç»“æ„

- [ğŸ“– å·¥ä½œæµç®€ä»‹](#-å·¥ä½œæµç®€ä»‹)
- [ğŸ“‘ å¿«é€Ÿå¯¼èˆª](#-å¿«é€Ÿå¯¼èˆª)
- [ğŸ¤– è‡ªåŠ¨ç”ŸæˆåŒºåŸŸ](#-è‡ªåŠ¨ç”ŸæˆåŒºåŸŸ)
  - [ğŸ“ ä»»åŠ¡ä¿¡æ¯](#-ä»»åŠ¡ä¿¡æ¯)
- [ğŸ“ ç›®å½•ç»“æ„](#-ç›®å½•ç»“æ„)
- [ğŸ“‹ æ ‡å‡†æµç¨‹](#-æ ‡å‡†æµç¨‹)
  - [æ­¥éª¤1ï¼šç”¨æˆ·æè¿°å¯¹æ¯”éœ€æ±‚](#æ­¥éª¤1ç”¨æˆ·æè¿°å¯¹æ¯”éœ€æ±‚)
  - [æ­¥éª¤2ï¼šAIè§£æå¹¶æ ¼å¼åŒ–](#æ­¥éª¤2aiè§£æå¹¶æ ¼å¼åŒ–)
  - [æ­¥éª¤3ï¼šç”¨æˆ·ç¡®è®¤ä¿¡æ¯](#æ­¥éª¤3ç”¨æˆ·ç¡®è®¤ä¿¡æ¯)
  - [æ­¥éª¤4ï¼šåˆ›å»ºä¸“ç”¨æ–‡æ¡£](#æ­¥éª¤4åˆ›å»ºä¸“ç”¨æ–‡æ¡£)
  - [æ­¥éª¤5ï¼šåˆå§‹åŒ–åˆ†æç¯å¢ƒ](#æ­¥éª¤5åˆå§‹åŒ–åˆ†æç¯å¢ƒ)
  - [æ­¥éª¤6ï¼šåˆ›å»ºç‰ˆæœ¬å·¥ä½œåŒº](#æ­¥éª¤6åˆ›å»ºç‰ˆæœ¬å·¥ä½œåŒº)
  - [æ­¥éª¤7ï¼šæ€»ä½“å˜æ›´åˆ†æ](#æ­¥éª¤7æ€»ä½“å˜æ›´åˆ†æ)
  - [æ­¥éª¤8ï¼šæ ¸å¿ƒæ¨¡å—æ·±åº¦å¯¹æ¯”ï¼ˆå¾ªç¯ï¼‰](#æ­¥éª¤8æ ¸å¿ƒæ¨¡å—æ·±åº¦å¯¹æ¯”å¾ªç¯)
  - [æ­¥éª¤9ï¼šæ–‡æ¡£å˜æ›´åˆ†æ](#æ­¥éª¤9æ–‡æ¡£å˜æ›´åˆ†æ)
  - [æ­¥éª¤10ï¼šæœ€ç»ˆæ±‡æ€»æµç¨‹](#æ­¥éª¤10æœ€ç»ˆæ±‡æ€»æµç¨‹)
- [ğŸ’¡ å¯¹æ¯”åŸåˆ™](#-å¯¹æ¯”åŸåˆ™)
  - [ğŸ¯ æ ¸å¿ƒæ–¹æ³•è®º](#-æ ¸å¿ƒæ–¹æ³•è®º)
  - [ğŸ“‹ æœ€ä½³å®è·µ](#-æœ€ä½³å®è·µ)
- [ğŸ“š é™„å½•](#-é™„å½•)
  - [é™„å½•Aï¼šæ¨¡æ¿æ–‡ä»¶è¯´æ˜](#é™„å½•aæ¨¡æ¿æ–‡ä»¶è¯´æ˜)
  - [é™„å½•Bï¼šè„šæœ¬å·¥å…·è¯´æ˜](#é™„å½•bè„šæœ¬å·¥å…·è¯´æ˜)
  - [é™„å½•Cï¼šå¸¸è§æ¨¡å—åˆ†æé‡ç‚¹](#é™„å½•cå¸¸è§æ¨¡å—åˆ†æé‡ç‚¹)

## ğŸ“– å·¥ä½œæµç®€ä»‹

æœ¬å·¥ä½œæµä¸“ä¸ºå¤šç‰ˆæœ¬å·®å¼‚åˆ†æå’Œå˜æ›´ç®¡ç†è®¾è®¡ï¼Œé‡‡ç”¨ä¸‰é˜¶æ®µåˆ†ææ¨¡å¼å’ŒGit worktreeéš”ç¦»æŠ€æœ¯ç¡®ä¿åˆ†æçš„å…¨é¢æ€§å’Œå‡†ç¡®æ€§ã€‚é€‚ç”¨äºç‰ˆæœ¬å‡çº§å½±å“è¯„ä¼°ã€å˜æ›´æ—¥å¿—è¡¥å……ã€ä»£ç æ¼”è¿›åˆ†æç­‰åœºæ™¯ï¼Œå½“å‰ä¸»è¦æ”¯æŒPythonã€C/C++é¡¹ç›®çš„æ·±åº¦ä»£ç åˆ†æã€‚

## ğŸ“‘ å¿«é€Ÿå¯¼èˆª

- [ğŸ“‹ æ ‡å‡†æµç¨‹](#-æ ‡å‡†æµç¨‹) - 10æ­¥å®Œæ•´å¯¹æ¯”æµç¨‹
- [ğŸ”„ å¯¹æ¯”å¾ªç¯](#-å¯¹æ¯”å¾ªç¯) - æ­¥éª¤8å¾ªç¯åˆ†æ
- [ğŸ“ ç›®å½•ç»“æ„](#-ç›®å½•ç»“æ„) - æ ‡å‡†åŒ–æ–‡ä»¶ç»„ç»‡
- [ğŸ’¡ å¯¹æ¯”åŸåˆ™](#-å¯¹æ¯”åŸåˆ™) - æ ¸å¿ƒæ–¹æ³•è®º

## ğŸ¤– è‡ªåŠ¨ç”ŸæˆåŒºåŸŸ

> **è¯´æ˜**: ä»»åŠ¡ä¸“ç”¨æ–‡æ¡£ä¸­ï¼ŒAIå°†è‡ªåŠ¨å¡«å……ä»¥ä¸‹å†…å®¹

### ğŸ“ ä»»åŠ¡ä¿¡æ¯

- **é¡¹ç›®**: [è‡ªåŠ¨è¯†åˆ«é¡¹ç›®åç§°]
- **ç‰ˆæœ¬èŒƒå›´**: [å¦‚ V1.86 â†’ V1.87]
- **å¯¹æ¯”ç›®æ ‡**: [æ›´æ–°æ—¥å¿—è¡¥å……/å˜æ›´åˆ†æ/å‡çº§æŒ‡å¯¼]
- **æŠ€æœ¯æ ˆ**: [ä¸»è¦æŠ€æœ¯æ¡†æ¶å’Œè¯­è¨€]

---

## ğŸ“ ç›®å½•ç»“æ„

```text
version-comparison-system/
â”œâ”€â”€ version-comparison-workflow-template.md    # å·¥ä½œæµæ¨¡æ¿
â”œâ”€â”€ scripts/                                   # è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ setup_worktree.ps1                     # åˆ›å»º worktree + å·®å¼‚åŸºç¡€æ•°æ®
â”‚   â”œâ”€â”€ cleanup_worktree.ps1                   # æ¸…ç† worktree ä¸è¾“å‡º
â”‚   â”œâ”€â”€ generate-summary-metrics.ps1           # ç”Ÿæˆ summary_metrics.json æ±‡æ€»æŒ‡æ ‡
â”‚   â”œâ”€â”€ generate-commits-summary.ps1           # ç”Ÿæˆ commits_summary.txt æäº¤åˆ†ç»„æ‘˜è¦
â”‚   â”œâ”€â”€ compare-code-metrics.ps1               # æ¯”è¾ƒè¡Œæ•° & æ–¹æ³•æ•° metrics_files.csv
â”‚   â”œâ”€â”€ extract-breaking-api.ps1               # æå–æ½œåœ¨ç ´åæ€§ API å˜æ›´å€™é€‰
â”‚   â”œâ”€â”€ generate-module-impact.ps1             # èšåˆæ¨¡å—å˜æ›´å¹¶ç”Ÿæˆ module_impact.*
â”‚   â”œâ”€â”€ risk-status-report.ps1                 # æ±‡æ€»é£é™© ID çŠ¶æ€ (RSK-*
â”‚   â””â”€â”€ validate-ids.ps1                       # æ ¡éªŒ ID å”¯ä¸€æ€§ä¸å¼•ç”¨å®Œæ•´æ€§
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ mgmt-analysis-index.md                 # åˆ†æç´¢å¼•æ¨¡æ¿
â”‚   â”œâ”€â”€ report-module-analysis.md              # æ¨¡å—åˆ†ææŠ¥å‘Šæ¨¡æ¿
â”‚   â”œâ”€â”€ report-version-summary.md              # ç‰ˆæœ¬å¯¹æ¯”æ€»ç»“æ¨¡æ¿ (v2: ID å¼•ç”¨ + JSON æŒ‡æ ‡)
â”‚   â”œâ”€â”€ analysis-stage-record.md               # é˜¶æ®µåˆ†æè®°å½•æ¨¡æ¿
â”‚   â”œâ”€â”€ update-log-template.md                 # æ›´æ–°æ—¥å¿—æ¨¡æ¿ (v2: äº”æ®µç»“æ„)
â”‚   â””â”€â”€ worktree-setup.md                      # å·¥ä½œåŒºè®¾ç½®æ¨¡æ¿
â””â”€â”€ analysis/
    â””â”€â”€ <ä»»åŠ¡ç›®å½•>/                             
        â”œâ”€â”€ INDEX.md
        â”œâ”€â”€ worktree_outputs/                  # å»ºè®®ï¼šè„šæœ¬è¾“å‡ºå½’æ¡£ç›®å½•
        â”‚   â”œâ”€â”€ commits_overview.txt
        â”‚   â”œâ”€â”€ files_stat.txt
        â”‚   â”œâ”€â”€ changed_files.txt
        â”‚   â”œâ”€â”€ module_stats.json
        â”‚   â”œâ”€â”€ worktree_setup_snapshot.json
        â”‚   â”œâ”€â”€ summary_metrics.json
        â”‚   â”œâ”€â”€ commits_summary.txt
        â”‚   â”œâ”€â”€ metrics_summary.json
        â”‚   â”œâ”€â”€ metrics_files.csv
        â”‚   â”œâ”€â”€ breaking_api_candidates.txt
        â”‚   â”œâ”€â”€ breaking_api_candidates.json
        â”‚   â”œâ”€â”€ risk_status.json
        â”‚   â””â”€â”€ risk_status.md
        â”œâ”€â”€ stage_1_overview/
        â”œâ”€â”€ stage_2_modules/
        â”œâ”€â”€ stage_3_documentation/
        â””â”€â”€ summary/
```

---

## ğŸ“‹ æ ‡å‡†æµç¨‹

### æ­¥éª¤1ï¼šç”¨æˆ·æè¿°å¯¹æ¯”éœ€æ±‚

**æ ¼å¼**: "åˆ†æ[æ—§ç‰ˆæœ¬]åˆ°[æ–°ç‰ˆæœ¬]çš„å˜æ›´ï¼Œé‡ç‚¹å…³æ³¨[æ¨¡å—/åŠŸèƒ½]ï¼Œç›®æ ‡æ˜¯[è¡¥å……æ›´æ–°æ—¥å¿—/å‡çº§æŒ‡å¯¼/å½±å“è¯„ä¼°]ã€‚"

### æ­¥éª¤2ï¼šAIè§£æå¹¶æ ¼å¼åŒ–

AIæå–å…³é”®ä¿¡æ¯å¹¶ç”Ÿæˆæ ‡å‡†åŒ–ä»»åŠ¡æè¿°ã€‚

### æ­¥éª¤3ï¼šç”¨æˆ·ç¡®è®¤ä¿¡æ¯

å¿…é¡»æš‚åœæ‰§è¡Œï¼Œç­‰å¾…ç”¨æˆ·æ‰‹åŠ¨æ£€æŸ¥AIè§£æç»“æœï¼Œç¡®è®¤æˆ–ä¿®æ­£ä»»åŠ¡ä¿¡æ¯ã€‚

### æ­¥éª¤4ï¼šåˆ›å»ºä¸“ç”¨æ–‡æ¡£

**AIå¿…é¡»æ‰§è¡Œä»¥ä¸‹æ“ä½œ**ï¼š

```powershell
# ç¤ºä¾‹å‘½ä»¤ - å®é™…è·¯å¾„éœ€æ ¹æ®å½“å‰å·¥ä½œç›®å½•è°ƒæ•´
cd version-comparison-system
Copy-Item "version-comparison-workflow-template.md" "version-comparison-ä»»åŠ¡å.md"
```

- **é¦–å…ˆè¿›å…¥version-comparison-systemç›®å½•**
- ä¸ºå½“å‰å¯¹æ¯”ä»»åŠ¡åˆ›å»ºä¸“ç”¨çš„å·¥ä½œæµæ–‡æ¡£
- æ–‡æ¡£ååº”åæ˜ å…·ä½“çš„å¯¹æ¯”ä»»åŠ¡ï¼ˆå¦‚ï¼šversion-comparison-V1.86åˆ°V1.87.mdï¼‰
- **é‡è¦çš„æ–‡æ¡£æ›´æ–°è¦æ±‚**ï¼š
  - **æ›´æ–°æ ‡é¢˜**ï¼šå°†ä¸“ç”¨æ–‡æ¡£çš„æ ‡é¢˜ä¿®æ”¹ä¸º"# ğŸ”„ ç‰ˆæœ¬å¯¹æ¯”å·¥ä½œæµç¨‹ [æ—§ç‰ˆæœ¬] â†’ [æ–°ç‰ˆæœ¬]"
  - **å¡«å……ä»»åŠ¡ä¿¡æ¯**ï¼šåœ¨è‡ªåŠ¨ç”ŸæˆåŒºåŸŸä¸­æ›¿æ¢æ‰€æœ‰[]å†…å®¹ä¸ºå…·ä½“ä¿¡æ¯
  - **ç¡®è®¤è·¯å¾„æ­£ç¡®æ€§**ï¼šæ£€æŸ¥æ‰€æœ‰ç›¸å¯¹è·¯å¾„å¼•ç”¨æ˜¯å¦æ­£ç¡®
- æš‚åœæ‰§è¡Œï¼Œæç¤ºç”¨æˆ·åˆ‡æ¢åˆ°ä¸“ç”¨å·¥ä½œæµæ–‡æ¡£å†ç»§ç»­

### æ­¥éª¤5ï¼šåˆå§‹åŒ–åˆ†æç¯å¢ƒ

**AIå¿…é¡»æ‰§è¡Œä»¥ä¸‹æ“ä½œ**ï¼š

```powershell
# ç¤ºä¾‹å‘½ä»¤ - å®é™…è·¯å¾„éœ€æ ¹æ®å½“å‰å·¥ä½œç›®å½•è°ƒæ•´
# åˆ›å»ºanalysisç›®å½•å¹¶è¿›å…¥
mkdir analysis -ErrorAction SilentlyContinue; cd analysis
# ç¡®å®šä»»åŠ¡ç¼–å·å’Œåˆ›å»ºä»»åŠ¡ä¸“ç”¨æ–‡ä»¶å¤¹
$taskId = (Get-ChildItem -Directory -Name | Where-Object { $_ -match '^\d+_' } | Measure-Object).Count + 1
$taskFolder = "${taskId}_ç‰ˆæœ¬å¯¹æ¯”æè¿°"  # ç”¨å®é™…å¯¹æ¯”æè¿°æ›¿æ¢
mkdir $taskFolder; cd $taskFolder
# åˆ›å»ºåˆ†æç´¢å¼•æ–‡ä»¶ (ä½¿ç”¨æ¨¡æ¿: templates/mgmt-analysis-index.md)
Copy-Item "..\..\templates\mgmt-analysis-index.md" "INDEX.md"
# åˆ›å»ºé˜¶æ®µç›®å½•ç»“æ„
mkdir stage_1_overview, stage_2_modules, stage_3_documentation, summary
# ä¸ºæ¯ä¸ªé˜¶æ®µåˆ›å»ºREADME.md (ä½¿ç”¨æ¨¡æ¿: templates/analysis-stage-record.md)
Copy-Item "..\..\templates\analysis-stage-record.md" "stage_1_overview\README.md"
Copy-Item "..\..\templates\analysis-stage-record.md" "stage_2_modules\README.md"
Copy-Item "..\..\templates\analysis-stage-record.md" "stage_3_documentation\README.md"
# ä¸ºè®°å½•å·¥ä½œåŒºé…ç½®å¤åˆ¶æ¨¡æ¿ (ä½¿ç”¨æ¨¡æ¿: templates/worktree-setup.md)
Copy-Item "..\..\templates\worktree-setup.md" "worktree_setup.md"
```

- åˆ›å»ºä»»åŠ¡ä¸“ç”¨æ–‡ä»¶å¤¹ï¼Œå‘½åæ ¼å¼ï¼š`æ•°å­—_ç‰ˆæœ¬å¯¹æ¯”æè¿°`
- åˆ›å»ºä»»åŠ¡çº§INDEX.mdï¼Œç”¨äºè®°å½•è¯¥å¯¹æ¯”åˆ†æçš„å†ç¨‹
- åˆå§‹åŒ–ä¸‰ä¸ªåˆ†æé˜¶æ®µçš„ç›®å½•å’Œè®°å½•æ–‡ä»¶
- åˆ›å»ºæœ€ç»ˆæ±‡æ€»ç›®å½•

### æ­¥éª¤6ï¼šåˆ›å»ºç‰ˆæœ¬å·¥ä½œåŒº

> ç°åœ¨æ¨èä½¿ç”¨è„šæœ¬ï¼š`./scripts/setup_worktree.ps1 -Old <æ—§ç‰ˆæœ¬> -New <æ–°ç‰ˆæœ¬> -Path <analysis/ä»»åŠ¡ç›®å½•/worktree_outputs>`

**âš ï¸ ç¼–ç é—®é¢˜æç¤º**: å¦‚æœåœ¨Gitæäº¤ä¿¡æ¯ä¸­é‡åˆ°ä¸­æ–‡ä¹±ç æ˜¾ç¤ºé—®é¢˜ï¼Œè¯·ä½¿ç”¨ç¼–ç æ£€æµ‹è„šæœ¬ï¼š

```powershell
# æ™ºèƒ½ç¼–ç æ£€æµ‹å’Œä¿®å¤Gitæäº¤ä¿¡æ¯ä¹±ç 
./scripts/git-encoding-detector.ps1 -OldVersion <æ—§ç‰ˆæœ¬> -NewVersion <æ–°ç‰ˆæœ¬> -OutputDir "stage_1_overview"

# æµ‹è¯•æ¨¡å¼ï¼ˆä»…é¢„è§ˆï¼Œä¸ç”Ÿæˆæ–‡ä»¶ï¼‰
./scripts/git-encoding-detector.ps1 -OldVersion <æ—§ç‰ˆæœ¬> -NewVersion <æ–°ç‰ˆæœ¬> -OutputDir "stage_1_overview" -TestMode
```

è¯¥è„šæœ¬å°†ï¼š
- è‡ªåŠ¨æ£€æµ‹Gitå­˜å‚¨ç¼–ç å’Œç»ˆç«¯ç¼–ç ä¸åŒ¹é…é—®é¢˜
- è®¾ç½®PowerShell UTF-8è¾“å‡ºç¼–ç è§£å†³æ˜¾ç¤ºä¹±ç 
- ç”Ÿæˆæ­£ç¡®ç¼–ç çš„æäº¤ä¿¡æ¯æ–‡ä»¶
- æ”¯æŒUTF-8ã€GBKã€GB2312ã€Big5ã€ISO-8859-1ç­‰å¤šç§ç¼–ç 

**åˆ›å»ºåç«‹å³æ‰§è¡ŒåŸºç¡€æŒ‡æ ‡ä¸æäº¤æ‘˜è¦ç”Ÿæˆï¼ˆå¯é€‰è‡ªåŠ¨åŒ–ï¼‰**ï¼š

```powershell
# ç”Ÿæˆæ±‡æ€»æŒ‡æ ‡ JSON (å«æäº¤/æ–‡ä»¶/è¡Œæ•°/æ¨¡å—/é£é™©ç­‰)
./scripts/generate-summary-metrics.ps1 -Old <æ—§ç‰ˆæœ¬> -New <æ–°ç‰ˆæœ¬> -Output worktree_outputs/summary_metrics.json
# ç”Ÿæˆæäº¤åˆ†ç±»æ‘˜è¦ (commits_summary.txt)
./scripts/generate-commits-summary.ps1 -Old <æ—§ç‰ˆæœ¬> -New <æ–°ç‰ˆæœ¬> -Output worktree_outputs/commits_summary.txt
# ç”Ÿæˆè¡Œæ•° & æ–¹æ³•æ•°å·®å¼‚ (ç›®å½•æ¨¡å¼éœ€ä¼ å…¥å·²åˆ›å»ºçš„ä¸¤ä¸ª worktree è·¯å¾„)
./scripts/compare-code-metrics.ps1 -OldPath worktree_outputs/worktree_<æ—§ç‰ˆæœ¬> -NewPath worktree_outputs/worktree_<æ–°ç‰ˆæœ¬> -OutputDir worktree_outputs
```

æ–°å¢ï¼šä»£ç æŒ‡æ ‡åˆ†ä¸ºä¸¤ç±»ï¼š
- å…¨é‡èšåˆ(å¤šè¯­è¨€+å‡½æ•°è®¡æ•°å¯ä¿¡åº¦)ï¼šrun-code-metrics.ps1 â†’ metrics_code_enriched.jsonï¼ˆä¾› summary å¯Œé›†ï¼‰
- å·®å¼‚è§†è§’(Python/C/C++ è¡Œ & å‡½æ•°å·®å¼‚ + å¯é€‰å‡½æ•°é•¿åº¦ä¼°ç®—)ï¼šcompare-code-metrics.ps1 â†’ metrics_summary.json / metrics_files.csv

æ‰§è¡Œé¡ºåºå»ºè®®ï¼š
1. åˆ›å»º worktree (setup_worktree.ps1 æˆ–æ‰‹åŠ¨ git worktree)
2. ï¼ˆå¯é€‰ï¼‰è¿è¡Œ run-code-metrics.ps1 é’ˆå¯¹æ–°ç‰ˆæœ¬å·¥ä½œåŒºï¼ˆæˆ–ä¸¤ä¸ªç‰ˆæœ¬åˆ†åˆ«ï¼‰è·å–åŸºçº¿å¤šè¯­è¨€ä»£ç è§„æ¨¡
3. è¿è¡Œ compare-code-metrics.ps1 è·å–å·®å¼‚æ•°æ®
4. è¿è¡Œ extract-breaking-api / generate-module-impact / risk-status-report
5. æ±‡æ€» generate-summary-metrics.ps1 å¸¦ä¸Š -CodeMetricsJson è¿›è¡Œå¯Œé›†

ç¤ºä¾‹ï¼š
```powershell
./scripts/setup_worktree.ps1 -Old <æ—§> -New <æ–°> -Path worktree_outputs
# å¤šè¯­è¨€èšåˆï¼ˆæ–°ç‰ˆæœ¬ï¼‰
./scripts/run-code-metrics.ps1 -Root worktree_outputs/worktree_<æ–°> -OutputDir worktree_outputs
# ä»£ç å·®å¼‚ (ç›®å½•æ¨¡å¼)
./scripts/compare-code-metrics.ps1 -OldPath worktree_outputs/worktree_<æ—§> -NewPath worktree_outputs/worktree_<æ–°> -OutputDir worktree_outputs -ApproximateLength
# ç ´åæ€§ API å€™é€‰
./scripts/extract-breaking-api.ps1 -Old <æ—§> -New <æ–°> -OutputDir worktree_outputs
# æ¨¡å—å½±å“
./scripts/generate-module-impact.ps1 -Old <æ—§> -New <æ–°> -StageDir stage_1_overview -EmitAuto -IncludeJSON
# é£é™©çŠ¶æ€
./scripts/risk-status-report.ps1 -Root . -OutputDir worktree_outputs
# æ±‡æ€»ï¼ˆå¯Œé›†æ‰€æœ‰æ¥æºï¼‰
./scripts/generate-summary-metrics.ps1 -Old <æ—§> -New <æ–°> -Output worktree_outputs/summary_metrics.json `
  -RiskStatusJson worktree_outputs/risk_status.json `
  -BreakingApiJson worktree_outputs/breaking_api_candidates.json `
  -ModuleImpactJson stage_1_overview/module_impact.json `
  -CodeMetricsJson worktree_outputs/metrics_code_enriched.json
```

ç”Ÿæˆçš„æ–‡ä»¶åœ¨åç»­æ­¥éª¤å°†è¢«å¼•ç”¨ï¼š

- summary_metrics.json â†’ ç‰ˆæœ¬æ±‡æ€»(report-version-summary.md)
- metrics_code_enriched.json â†’ summary å¯Œé›†ä¸­çš„ code_metrics_* å­—æ®µ
- metrics_summary.json / metrics_files.csv â†’ å·®å¼‚ç»Ÿè®¡ä¸çƒ­ç‚¹æ–‡ä»¶åˆ†æ
- module_impact.* â†’ æ¨¡å—åˆ†æè®¡åˆ’ä¸ä¼˜å…ˆçº§æ’åº
- breaking_api_candidates.* â†’ å…¼å®¹æ€§è¯„ä¼°å¼•ç”¨
- risk_status.* â†’ é£é™©ä¸å¯ä¿¡åº¦å¼•ç”¨

**AIå¿…é¡»æ‰§è¡Œä»¥ä¸‹æ“ä½œ**ï¼š

```powershell
# ç¤ºä¾‹å‘½ä»¤ - å®é™…ç‰ˆæœ¬å·éœ€è¦æ›¿æ¢ä¸ºå…·ä½“å€¼
# è·å–ç‰ˆæœ¬ä¿¡æ¯ï¼ˆä»ä»»åŠ¡æè¿°ä¸­æå–ï¼‰
$oldVersion = "V1.86"  # æ›¿æ¢ä¸ºå®é™…æ—§ç‰ˆæœ¬
$newVersion = "V1.87"  # æ›¿æ¢ä¸ºå®é™…æ–°ç‰ˆæœ¬

# åˆ›å»ºä¸¤ä¸ªç‰ˆæœ¬çš„å·¥ä½œåŒºè¿›è¡Œå¯¹æ¯” (éœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ)
git worktree add "worktree_${oldVersion}" $oldVersion
git worktree add "worktree_${newVersion}" $newVersion

# éªŒè¯å·¥ä½œåŒºåˆ›å»ºæˆåŠŸ
git worktree list

# ç”ŸæˆåŸºç¡€å¯¹æ¯”æ•°æ®
git log --oneline ${oldVersion}..${newVersion} > stage_1_overview\commits_overview.txt
git diff --stat ${oldVersion}..${newVersion} > stage_1_overview\files_stat.txt
git diff --name-only ${oldVersion}..${newVersion} > stage_1_overview\changed_files.txt

# æŒ‰æ¨¡å—ç”Ÿæˆç»Ÿè®¡æ•°æ® - è‡ªåŠ¨å‘ç°é¡¹ç›®æ¨¡å—
$projectModules = git diff --name-only ${oldVersion}..${newVersion} | ForEach-Object { ($_ -split '/')[0] } | Sort-Object -Unique | Where-Object { $_ -match '^[a-zA-Z_]' }
foreach ($module in $projectModules) {
    if (Test-Path "..\..\..\..\$module") {
        git diff --stat ${oldVersion}..${newVersion} -- $module/ > "stage_1_overview\${module}_changes_stat.txt"
    }
}
```

**é‡è¦æ”¹è¿›**:

- âœ… **åŒç‰ˆæœ¬å·¥ä½œåŒº**: åˆ›å»ºæ–°æ—§ä¸¤ä¸ªç‰ˆæœ¬çš„å®Œæ•´å·¥ä½œåŒº
- âœ… **è‡ªåŠ¨æ¨¡å—å‘ç°**: æ ¹æ®å®é™…å˜æ›´æ–‡ä»¶è‡ªåŠ¨è¯†åˆ«é¡¹ç›®æ¨¡å—
- âœ… **å·¥ä½œåŒºéªŒè¯**: ç¡®ä¿å·¥ä½œåŒºåˆ›å»ºæˆåŠŸ
- âœ… **ä¾¿äºå¯¹æ¯”**: ä¸¤ä¸ªå®Œæ•´çš„ä»£ç ç‰ˆæœ¬ä¾¿äºæ·±åº¦å¯¹æ¯”åˆ†æ

### æ­¥éª¤7ï¼šæ€»ä½“å˜æ›´åˆ†æ

è¿›å…¥åˆ†é˜¶æ®µåˆ†ææµç¨‹ã€‚

#### 7.1 ğŸ“Š æäº¤è®°å½•åˆ†æ

> å¦‚å·²è¿è¡Œ `generate-commits-summary.ps1`ï¼Œå¯ç›´æ¥å¼•ç”¨ worktree_outputs/commits_summary.txt ä¸­çš„åˆ†ç±»ç»Ÿè®¡ä¸ç¤ºä¾‹æäº¤ï¼›å¦åˆ™æ‰‹åŠ¨åˆ†æ commits_overview.txtã€‚

- åˆ†æcommits_overview.txtï¼ŒæŒ‰åŠŸèƒ½ç±»å‹åˆ†ç±»ï¼š
  - `feat`: æ–°åŠŸèƒ½ç‰¹æ€§
  - `fix`: é—®é¢˜ä¿®å¤
  - `refactor`: é‡æ„ä¼˜åŒ–
  - `docs`: æ–‡æ¡£æ›´æ–°
  - `perf`: æ€§èƒ½ä¼˜åŒ–
  - `chore`: ç»´æŠ¤ä»»åŠ¡

#### 7.2 ğŸ“ˆ æ–‡ä»¶å˜æ›´ç»Ÿè®¡

> è‹¥å·²ç”Ÿæˆ summary_metrics.jsonï¼Œå¯ç›´æ¥è·å– files_changed / lines_added / lines_deletedï¼›compare-code-metrics.ps1 çš„ metrics_files.csv å¯è¾…åŠ©è¯†åˆ«çƒ­ç‚¹æ–‡ä»¶ã€‚

å¯é€‰ï¼šæå–æ½œåœ¨ç ´åæ€§ API å˜æ›´å€™é€‰ï¼ˆä¾›å…¼å®¹æ€§è¯„ä¼° / report-version-summary ä¸æ›´æ–°æ—¥å¿—ä½¿ç”¨ï¼‰:

```powershell
./scripts/extract-breaking-api.ps1 -Old $oldVersion -New $newVersion -OutputDir worktree_outputs
# è¾“å‡º: breaking_api_candidates.txt / .json
```

- åˆ†æfiles_stat.txtï¼Œè¯†åˆ«å˜æ›´çƒ­ç‚¹ï¼š
  - å˜æ›´è¡Œæ•°æœ€å¤šçš„æ–‡ä»¶
  - æ–°å¢/åˆ é™¤çš„æ–‡ä»¶
  - é‡æ„å½±å“èŒƒå›´

#### 7.3 ğŸ—‚ï¸ æ¨¡å—å½±å“åˆ†æ

æ‰§è¡Œç›®æ ‡ï¼šè¯†åˆ«å—å½±å“æ¨¡å—ã€èšåˆæ¨¡å—å˜æ›´è§„æ¨¡å¹¶ç”Ÿæˆç»“æ„åŒ– `module_impact.md` æ”¯æ’‘ 7.4 è®¡åˆ’ç¡®è®¤ã€‚

æ¨èä½¿ç”¨è„šæœ¬ï¼š`./scripts/generate-module-impact.ps1`

ç¤ºä¾‹ï¼š

```powershell
# åŸºäºæ—§/æ–°ç‰ˆæœ¬ç›´æ¥ç”Ÿæˆ (è‡ªåŠ¨åˆ›å»º changed_files.txt)
./scripts/generate-module-impact.ps1 -Old $oldVersion -New $newVersion -StageDir stage_1_overview -EmitAuto -IncludeJSON

# è‹¥å·²å­˜åœ¨ changed_files.txt
./scripts/generate-module-impact.ps1 -ChangedFilesPath stage_1_overview/changed_files.txt -StageDir stage_1_overview -Depth 1 -EmitAuto
```

è„šæœ¬è¦ç‚¹ï¼š

- åŠ¨æ€æŠ½å–è·¯å¾„å‰ Depth å±‚ï¼ˆé»˜è®¤1ï¼‰ä½œä¸ºæ¨¡å—é”®ï¼›æ ¹ç›®å½•æ–‡ä»¶å½’ç±» `_root`
- è¾“å‡º: module_impact.md (+ å¯é€‰ module_impact_auto.txt / module_impact.json)
- è¡¨æ ¼å«ï¼šæ¨¡å— | å˜æ›´æ–‡ä»¶æ•° | ç¤ºä¾‹æ–‡ä»¶ (å‰N=5)
- ä¾›äººå·¥è¡¥å……ä¼˜å…ˆçº§ã€è¡Œä¸ºå½±å“ã€é£é™© (RSK-)ã€ç ´åæ€§ APIã€ä¾èµ–å½±å“

> è‹¥é¡¹ç›®æºä»£ç é›†ä¸­åœ¨ `src/` ç­‰å•ä¸€è·¯å¾„ï¼Œå¯ä½¿ç”¨ `-Depth 2` è·å¾— `src/å­ç›®å½•` çº§èšåˆï¼›åç»­å¯æ‰©å±•è„šæœ¬æ”¯æŒå¿½ç•¥å‰ç¼€ç›®å½•å‚æ•°ã€‚

å¯é€‰ï¼šç”Ÿæˆé£é™©çŠ¶æ€æ±‡æ€»ï¼Œä¾¿äºåç»­åœ¨ç‰ˆæœ¬æ€»ç»“ / æ›´æ–°æ—¥å¿—çš„é£é™©ä¸å¯ä¿¡åº¦éƒ¨åˆ†å¼•ç”¨ï¼š

```powershell
./scripts/risk-status-report.ps1 -Root . -OutputDir worktree_outputs
# è¾“å‡º: risk_status.json / risk_status.md
```

ç”Ÿæˆåï¼šå¿«é€Ÿäººå·¥æ£€æŸ¥ `module_impact.md` æ¨¡å—åˆ’åˆ†æ˜¯å¦åˆç†ï¼Œç„¶åè¿›å…¥ 7.4 è®¡åˆ’ç¡®è®¤ã€‚

#### 7.4 ğŸ¯ æ¨¡å—åˆ†æè®¡åˆ’ç¡®è®¤

- AIæ ¹æ®å˜æ›´åˆ†å¸ƒ**è‡ªåŠ¨ç”Ÿæˆæ¨¡å—åˆ†æè®¡åˆ’**
- åœ¨stage_1_overview/module_impact.mdä¸­åˆ—å‡ºï¼š
  - ğŸ“Š **å˜æ›´ç»Ÿè®¡**: å„æ¨¡å—çš„æ–‡ä»¶æ•°é‡å’Œå˜æ›´è¡Œæ•°
  - ğŸ¯ **å»ºè®®åˆ†æçš„æ¨¡å—**: æŒ‰å½±å“ç¨‹åº¦æ’åº
  - âš ï¸ **é£é™©è¯„ä¼°**: å„æ¨¡å—å˜æ›´çš„æ½œåœ¨å½±å“
- **å¿…é¡»æš‚åœæ‰§è¡Œï¼Œç­‰å¾…ç”¨æˆ·ç¡®è®¤**ï¼š
  - [ ] ç¡®å®šéœ€è¦æ·±åº¦åˆ†æçš„æ¨¡å—
  - [ ] ç¡®å®šå¯ä»¥è·³è¿‡çš„æ¨¡å—ï¼ˆå¦‚ä»…æ ·å¼è°ƒæ•´ï¼‰
  - [ ] **ç¡®å®šåˆ†æé¡ºåº**: ç”¨æˆ·æœ€ç»ˆç¡®è®¤æ¨¡å—åˆ†æçš„ä¼˜å…ˆçº§é¡ºåº
- ç”¨æˆ·ç¡®è®¤åï¼Œ**åŠ¨æ€åˆ›å»º**å¯¹åº”æ¨¡å—çš„åˆ†ææ–‡ä»¶ï¼š

```powershell
# ç¤ºä¾‹å‘½ä»¤ - å®é™…æ¨¡å—åéœ€è¦æ›¿æ¢
# ä¸ºç¡®è®¤éœ€è¦åˆ†æçš„æ¨¡å—åˆ›å»ºåˆ†ææ–‡ä»¶ (ä½¿ç”¨æ¨¡æ¿: templates/report-module-analysis.md)
Copy-Item "..\..\templates\report-module-analysis.md" "stage_2_modules\${module_name}_analysis.md"
```

**è®°å½•è¦ç‚¹**: åœ¨stage_1_overview/module_impact.mdä¸­è®°å½•æ€»ä½“å˜æ›´è§„æ¨¡ã€ä¸»è¦æ¨¡å—å½±å“å’Œä¼˜å…ˆçº§æ’åºï¼Œä»¥åŠ**ç”¨æˆ·ç¡®è®¤çš„æœ€ç»ˆåˆ†æè®¡åˆ’å’Œæ‰§è¡Œé¡ºåº**ã€‚

---



### æ­¥éª¤8ï¼šæ ¸å¿ƒæ¨¡å—æ·±åº¦å¯¹æ¯”ï¼ˆå¾ªç¯ï¼‰

> **ğŸ’¡ æç¤º**: è¿™æ˜¯å¯¹æ¯”å¾ªç¯é˜¶æ®µï¼Œä¼šæ ¹æ®ç”¨æˆ·ç¡®è®¤çš„æ¨¡å—åˆ—è¡¨è¿›è¡Œå¾ªç¯åˆ†æ

**âš ï¸ é‡è¦æµç¨‹å˜æ›´**: æ­¥éª¤8çš„åˆ†ææ¨¡å—**ä¸å†é¢„è®¾**ï¼Œè€Œæ˜¯åŸºäºæ­¥éª¤7çš„è‡ªåŠ¨è¯†åˆ«ç»“æœå’Œç”¨æˆ·ç¡®è®¤ã€‚

#### 8.1 å¾ªç¯æ‰§è¡Œæ¨¡å—åˆ†æ

##### åŠ¨æ€æ¨¡å—åˆ†ææµç¨‹

1. **åŸºäºæ­¥éª¤7ç»“æœ**: ä»module_impact.mdè·å–éœ€è¦åˆ†æçš„æ¨¡å—åˆ—è¡¨
2. **æŒ‰å½±å“ç¨‹åº¦æ’åº**: ä¼˜å…ˆåˆ†æå˜æ›´è¾ƒå¤§çš„æ¨¡å—
3. **ç”¨æˆ·ç¡®è®¤åæ‰§è¡Œ**: åªåˆ†æç”¨æˆ·ç¡®è®¤éœ€è¦çš„æ¨¡å—
4. **è‡ªåº•å‘ä¸Šåˆ†æ**: æŒ‰ä¾èµ–å…³ç³»é¡ºåºåˆ†æï¼ˆåŸºç¡€â†’ä¸šåŠ¡â†’æ ¸å¿ƒï¼‰

##### æ ‡å‡†æ¨¡å—åˆ†ææ¨¡æ¿

å¯¹äºæ¯ä¸ªç¡®è®¤éœ€è¦åˆ†æçš„æ¨¡å—ï¼Œä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿ï¼š

```bash
# é€šç”¨æ¨¡å—åˆ†æå‘½ä»¤æ¨¡æ¿
git diff --stat $oldVersion..$newVersion -- [æ¨¡å—è·¯å¾„]/
git diff --name-only $oldVersion..$newVersion -- [æ¨¡å—è·¯å¾„]/
git log --oneline $oldVersion..$newVersion -- [æ¨¡å—è·¯å¾„]/
```

> **ğŸ“‹ å‚è€ƒ**: å„æ¨¡å—çš„å…·ä½“åˆ†æé‡ç‚¹è¯·å‚è§é™„å½•Cï¼šå¸¸è§æ¨¡å—åˆ†æé‡ç‚¹

#### 8.2 å®šæœŸæ€»ç»“ç­–ç•¥

- **æ—¶é—´é—´éš”**: æ¯è¿è¡Œ2-5åˆ†é’Ÿè¿›è¡Œä¸€æ¬¡æ€»ç»“
- **æ–‡ä»¶æ•°é‡**: æ¯æŸ¥çœ‹5-10ä¸ªæ–‡ä»¶åè¿›è¡Œä¸€æ¬¡æ€»ç»“
- **åˆ†ææ·±åº¦**: æ¯å®Œæˆä¸€ä¸ªæ¨¡å—åˆ†æåç«‹å³æ€»ç»“

---

### æ­¥éª¤9ï¼šæ–‡æ¡£å˜æ›´åˆ†æ

#### 9.1 ğŸ“ æ–‡æ¡£å˜æ›´åˆ†æ

```bash
# åˆ†ææ–‡æ¡£å˜æ›´
git diff $oldVersion..$newVersion -- docs/
git diff $oldVersion..$newVersion -- workflow/
git diff $oldVersion..$newVersion -- "*.md"
```

**è®°å½•æ–¹å¼**: åœ¨stage_3_documentation/documentation_changes.mdä¸­ç®€è¦è®°å½•ï¼š

- æ–°å¢æ–‡æ¡£ç±»å‹å’Œç”¨é€”
- é‡è¦æ–‡æ¡£æ›´æ–°å†…å®¹
- æ–‡æ¡£ç»“æ„å˜æ›´
- å·¥ä½œæµå’Œæ¨¡æ¿ç³»ç»Ÿå˜åŒ–

**æ³¨**: documentation_changes.mdæ— éœ€ä½¿ç”¨ç‰¹å®šæ¨¡æ¿ï¼Œç›´æ¥è®°å½•æ–‡æ¡£å˜æ›´å³å¯

---

### æ­¥éª¤10ï¼šæœ€ç»ˆæ±‡æ€»æµç¨‹

#### 10.1 ç‰ˆæœ¬å¯¹æ¯”æŠ¥å‘Š (version_comparison_report.md)

> å¯ç›´æ¥åµŒå…¥æˆ–å¼•ç”¨ worktree_outputs/summary_metrics.json ä¸ metrics_summary.jsonï¼ˆå¦‚å·²ç”Ÿæˆï¼‰ï¼Œé¿å…é‡å¤äººå·¥ç»Ÿè®¡ã€‚

**ä½¿ç”¨æ¨¡æ¿**: `templates/report-version-summary.md`

å°†å„é˜¶æ®µçš„åˆ†æç»“æœæ•´åˆåˆ°summary/version_comparison_report.mdä¸­ï¼š

```powershell
# ç¤ºä¾‹å‘½ä»¤ - éœ€è¦åœ¨æ­£ç¡®çš„ç›®å½•å±‚çº§æ‰§è¡Œ
# å¤åˆ¶ç‰ˆæœ¬å¯¹æ¯”æŠ¥å‘Šæ¨¡æ¿
Copy-Item "..\..\templates\report-version-summary.md" "summary\version_comparison_report.md"
```

**å¡«å……å†…å®¹è¦æ±‚**:

- åŸºäºå„é˜¶æ®µåˆ†æç»“æœå¡«å……æ¨¡æ¿å†…å®¹
- é‡å¤§å˜æ›´æ¦‚è§ˆï¼šæ–°å¢åŠŸèƒ½ã€ä¼˜åŒ–é‡æ„ã€é—®é¢˜ä¿®å¤
- æ¨¡å—å˜æ›´è¯¦æƒ…ï¼šåŸºç¡€æ”¯æ’‘ã€ä¸šåŠ¡é€»è¾‘ã€æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
- å…¼å®¹æ€§å½±å“è¯„ä¼°ï¼šç ´åæ€§å˜æ›´ã€é…ç½®å˜æ›´ã€ä¾èµ–å˜æ›´

#### 10.2 æ›´æ–°æ—¥å¿—è‰ç¨¿ç”Ÿæˆ

> ä½¿ç”¨ worktree_outputs/commits_summary.txt æä¾›â€œæäº¤æ‘˜è¦â€ï¼›å¿…è¦æ—¶å¼•ç”¨ metrics_summary.json æ”¯æ’‘â€œæŠ€æœ¯æˆæœâ€æ•°æ®ã€‚

**ä½¿ç”¨æ¨¡æ¿**: `templates/update-log-template.md`

åŸºäºåˆ†æç»“æœç”Ÿæˆæ›´æ–°æ—¥å¿—è‰ç¨¿ï¼š

```powershell
# ç¤ºä¾‹å‘½ä»¤ - éœ€è¦åœ¨æ­£ç¡®çš„ç›®å½•å±‚çº§æ‰§è¡Œ
# å¤åˆ¶æ›´æ–°æ—¥å¿—æ¨¡æ¿
Copy-Item "..\..\templates\update-log-template.md" "summary\update_log_draft.md"
```

**å¡«å……å†…å®¹è¦æ±‚**:

- **ç‰ˆæœ¬ä¿¡æ¯**: ä»ä»»åŠ¡æè¿°æå–ç‰ˆæœ¬å·å’Œæ—¶é—´èŒƒå›´
- **æ–°å¢åŠŸèƒ½**: åŸºäºStage 2æ¨¡å—åˆ†æçš„åŠŸèƒ½æ€§å˜æ›´
- **ä¼˜åŒ–é‡æ„**: åŸºäºæ€§èƒ½ä¼˜åŒ–å’Œæ¶æ„æ”¹è¿›åˆ†æ
- **é—®é¢˜ä¿®å¤**: åŸºäºbugä¿®å¤å’Œç¨³å®šæ€§æ”¹è¿›
- **æŠ€æœ¯æˆæœ**: åŸºäºä»£ç ç»Ÿè®¡å’Œæ€§èƒ½æ•°æ®
- **ç ´åæ€§å˜æ›´**: éœ€è¦ç‰¹åˆ«æ³¨æ„çš„å…¼å®¹æ€§é—®é¢˜

**ğŸ“‹ è´¨é‡ä¿è¯æ£€æŸ¥**:

ç”Ÿæˆæ›´æ–°æ—¥å¿—è‰ç¨¿æ—¶ï¼Œéœ€è¦ä¿è¯ï¼š

- [ ] åˆ†æç»“æœçš„å‡†ç¡®æ€§
- [ ] æ›´æ–°æ—¥å¿—å†…å®¹çš„å®Œæ•´æ€§
- [ ] æ›´æ–°æ—¥å¿—æ ¼å¼çš„ä¸€è‡´æ€§

**âš ï¸ é‡è¦**: æ­¤æ­¥éª¤ç”Ÿæˆçš„æ˜¯æ›´æ–°æ—¥å¿—è‰ç¨¿ï¼Œç”¨äºåç»­ç¼–è¾‘å’Œå®Œå–„

#### 10.3 ç°æœ‰æ›´æ–°æ—¥å¿—æ–‡ä»¶æ›´æ–°ç¡®è®¤

**ç›®æ ‡**: æ£€æŸ¥æ˜¯å¦å­˜åœ¨éœ€è¦æ›´æ–°çš„ç°æœ‰æ›´æ–°æ—¥å¿—æ–‡ä»¶

#### ğŸ” æ›´æ–°æ—¥å¿—æ–‡ä»¶æ£€æŸ¥

**ç”¨æˆ·ç¡®è®¤æ­¥éª¤**:

1. **è¯¢é—®ç”¨æˆ·**: æ˜¯å¦å­˜åœ¨ç°æœ‰çš„æ›´æ–°æ—¥å¿—æ–‡ä»¶éœ€è¦æ›´æ–°ï¼Ÿ
2. **æ–‡ä»¶è·¯å¾„ç¡®è®¤**: å¦‚æœå­˜åœ¨ï¼Œè¯·ç”¨æˆ·æä¾›å…·ä½“æ–‡ä»¶è·¯å¾„
3. **æ›´æ–°ç­–ç•¥ç¡®è®¤**: ç¡®è®¤æ˜¯è¿½åŠ å†…å®¹è¿˜æ˜¯æ›¿æ¢ç‰¹å®šç« èŠ‚

#### ğŸ“ æ‰§è¡Œæ›´æ–°æ“ä½œ

**å¦‚æœç”¨æˆ·æä¾›äº†ç°æœ‰æ›´æ–°æ—¥å¿—æ–‡ä»¶è·¯å¾„**:

```powershell
# ç¤ºä¾‹å‘½ä»¤ - å®é™…è·¯å¾„ç”±ç”¨æˆ·æä¾›
# å¤‡ä»½ç°æœ‰æ›´æ–°æ—¥å¿—æ–‡ä»¶
Copy-Item "[ç”¨æˆ·æä¾›çš„è·¯å¾„]" "[ç”¨æˆ·æä¾›çš„è·¯å¾„].backup"

# åŸºäºè‰ç¨¿å†…å®¹æ›´æ–°ç°æœ‰æ›´æ–°æ—¥å¿—
# å…·ä½“æ›´æ–°æ–¹å¼æ ¹æ®ç”¨æˆ·ç¡®è®¤çš„ç­–ç•¥æ‰§è¡Œ
```

**æ›´æ–°å†…å®¹è¦æ±‚**:

- **ç‰ˆæœ¬ç« èŠ‚**: åŸºäºsummary/update_log_draft.mdä¸­çš„å†…å®¹
- **ä¿æŒæ ¼å¼**: ä¸ç°æœ‰æ›´æ–°æ—¥å¿—çš„æ ¼å¼é£æ ¼ä¿æŒä¸€è‡´
- **è¿½åŠ æ–¹å¼**: åœ¨é€‚å½“ä½ç½®æ’å…¥æ–°ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹
- **æ—¶é—´æ’åº**: ç¡®ä¿ç‰ˆæœ¬æŒ‰æ—¶é—´é¡ºåºæ­£ç¡®æ’åˆ—

**âš ï¸ é‡è¦ç¡®è®¤ç‚¹**:

- [ ] ç°æœ‰æ›´æ–°æ—¥å¿—æ–‡ä»¶è·¯å¾„æ­£ç¡®æ€§
- [ ] æ›´æ–°å†…å®¹çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§
- [ ] æ ¼å¼é£æ ¼çš„ä¸€è‡´æ€§
- [ ] ç”¨æˆ·ç¡®è®¤æ‰§è¡Œæ›´æ–°æ“ä½œ

**æš‚åœæ‰§è¡Œ**: ç­‰å¾…ç”¨æˆ·ç¡®è®¤æ‰€æœ‰æ›´æ–°å†…å®¹æ— è¯¯åå†ç»§ç»­

#### 10.4 å·¥ä½œåŒºæ¸…ç†ç¡®è®¤

**âš ï¸ é‡è¦**: å®Œæˆåˆ†æåï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©æ˜¯å¦æ¸…ç†å·¥ä½œåŒºã€‚

#### ğŸ” æ¸…ç†å‰ç¡®è®¤

1. **ç”¨æˆ·é€‰æ‹©**: å‘ç”¨æˆ·ç¡®è®¤æ˜¯å¦æ¸…ç†å·¥ä½œåŒº
   - é€‰æ‹©1: ç«‹å³æ¸…ç†å·¥ä½œåŒºï¼ˆèŠ‚çœå­˜å‚¨ç©ºé—´ï¼‰
   - é€‰æ‹©2: ä¿ç•™å·¥ä½œåŒºï¼ˆä¾¿äºåç»­æ·±åº¦åˆ†æï¼‰
2. **ç»“æœéªŒè¯**: ç¡®ä¿æ‰€æœ‰é‡è¦å‘ç°éƒ½å·²è®°å½•
3. **è·å¾—æ¸…ç†è®¸å¯**: ä»…åœ¨ç”¨æˆ·æ˜ç¡®é€‰æ‹©æ¸…ç†æ—¶æ‰æ‰§è¡Œ

#### ğŸ’¾ ä¿ç•™å·¥ä½œåŒºçš„ä¼˜åŠ¿

- **æ·±åº¦åˆ†æ**: å¯ä»¥è¿›è¡Œæ›´è¯¦ç»†çš„æ–‡ä»¶å¯¹æ¯”
- **é—®é¢˜éªŒè¯**: é‡åˆ°ç–‘é—®æ—¶å¯ä»¥å¿«é€ŸéªŒè¯
- **åç»­åˆ†æ**: æ”¯æŒå¤šè½®åˆ†æå’Œè¡¥å……åˆ†æ
- **å­¦ä¹ å‚è€ƒ**: ä¿ç•™å®Œæ•´çš„ç‰ˆæœ¬çŠ¶æ€ä¾¿äºå­¦ä¹ 

#### ğŸ—‘ï¸ æ¸…ç†å·¥ä½œåŒºçš„ä¼˜åŠ¿

- **èŠ‚çœç©ºé—´**: é‡Šæ”¾ç£ç›˜å­˜å‚¨ç©ºé—´
- **ä¿æŒæ•´æ´**: é¿å…å·¥ä½œåŒºç´¯ç§¯
- **é¿å…æ··æ·†**: å‡å°‘å¤šä¸ªå·¥ä½œåŒºçš„ç‰ˆæœ¬æ··æ·†

**æ¸…ç†å‘½ä»¤** (ä»…åœ¨ç”¨æˆ·é€‰æ‹©æ¸…ç†æ—¶æ‰§è¡Œ):

```bash
# ç¤ºä¾‹å‘½ä»¤ - å®é™…è·¯å¾„å’Œç‰ˆæœ¬å·éœ€è¦æ›¿æ¢
# æ¸…ç†ä¸¤ä¸ªç‰ˆæœ¬å·¥ä½œåŒº
git worktree remove analysis/ä»»åŠ¡æ–‡ä»¶å¤¹/worktree_V1.86
git worktree remove analysis/ä»»åŠ¡æ–‡ä»¶å¤¹/worktree_V1.87

# ç¡®è®¤æ¸…ç†å®Œæˆ
git worktree list
```

#### 10.5 å½’æ¡£ä»»åŠ¡ä¸“ç”¨æ–‡æ¡£

**(æ–°å¢) é¦–å…ˆæ‰§è¡Œ ID æ ¡éªŒè„šæœ¬ï¼Œç¡®ä¿æ‰€æœ‰å¼•ç”¨ä¸€è‡´æ€§**ï¼š

```powershell
# åœ¨ä»»åŠ¡æ ¹ç›®å½• (analysis/<ä»»åŠ¡ç›®å½•>) è°ƒç”¨ï¼Œè¾“å‡ºè‡³ worktree_outputs
./scripts/validate-ids.ps1 -Root . -OutputDir worktree_outputs -FailOnDuplicate:$false
```

è„šæœ¬æ ¡éªŒï¼š

- ID å‰ç¼€: RSK-/DISC-/MOD-/API-/CMP-
- å”¯ä¸€æ€§ï¼šæ£€æµ‹é‡å¤ ID å¹¶åˆ—å‡ºå‡ºç°ä½ç½®
- å¼•ç”¨å®Œæ•´æ€§ï¼šç»Ÿè®¡å„ ID å‡ºç°æ¬¡æ•°ï¼Œä¾›äººå·¥ç¡®è®¤æ˜¯å¦ç¼ºå°‘å®šä¹‰æˆ–è¯´æ˜
- è¾“å‡º: id_validation.json / id_validation.md

**ç›®æ ‡**: å°†ä»»åŠ¡ä¸“ç”¨å·¥ä½œæµæ–‡æ¡£å½’æ¡£åˆ°åˆ†ææ–‡ä»¶å¤¹ï¼Œä¾¿äºå®Œæ•´è®°å½•

```powershell
# ç¤ºä¾‹å‘½ä»¤ - å®é™…è·¯å¾„éœ€è¦æ ¹æ®å½“å‰ç›®å½•è°ƒæ•´
# å°†ä»»åŠ¡ä¸“ç”¨æ–‡æ¡£ä»æ ¹ç›®å½•å¤åˆ¶åˆ°å½“å‰åˆ†æç›®å½•
Copy-Item "..\..\version-comparison-ä»»åŠ¡å.md" "."

# é‡å‘½åä¸ºæ ‡å‡†å½’æ¡£æ ¼å¼
Rename-Item "version-comparison-ä»»åŠ¡å.md" "workflow_document_archive.md"
```

**æ–‡æ¡£æ¥æº**: ä»`version-comparison-system/version-comparison-ä»»åŠ¡å.md`å¤åˆ¶å¹¶é‡å‘½å
**å½’æ¡£ç›®æ ‡**: å½“å‰åˆ†æä»»åŠ¡ç›®å½•ä¸‹çš„`workflow_document_archive.md`

**å½’æ¡£å†…å®¹**:

- å®Œæ•´çš„å·¥ä½œæµæ‰§è¡Œè®°å½•
- ç”¨æˆ·ç¡®è®¤å’Œå†³ç­–è®°å½•
- åˆ†æè¿‡ç¨‹ä¸­çš„è°ƒæ•´å’Œä¼˜åŒ–
- é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

**å½’æ¡£ä»·å€¼**:

- **å®Œæ•´æ€§**: ä¿ç•™å®Œæ•´çš„åˆ†ææ‰§è¡Œè¿‡ç¨‹
- **å¯å¤ç°**: åç»­åˆ†ææ—¶å¯ä»¥å‚è€ƒæ‰§è¡Œç»†èŠ‚
- **ç»éªŒç§¯ç´¯**: ä¸ºæ”¹è¿›å·¥ä½œæµç¨‹æä¾›ä¾æ®
- **å›¢é˜Ÿå­¦ä¹ **: å›¢é˜Ÿæˆå‘˜å¯ä»¥å­¦ä¹ åˆ†ææ–¹æ³•

#### 10.6 ä¸€è‡´æ€§å¯¹é½æ ¡éªŒï¼ˆæ–°å¢ï¼‰

åœ¨æ¸…ç†å‰è¿è¡Œå¯¹é½æ ¡éªŒè„šæœ¬ï¼Œç¡®ä¿æ‰€æœ‰å…³é”®äº§å‡ºå†…éƒ¨ä¸€è‡´ï¼š
```powershell
./scripts/alignment-checker.ps1 -AnalysisDir analysis/<ä»»åŠ¡ç›®å½•> -FailOnMismatch
```
æ ¡éªŒå†…å®¹ï¼š
- summary_metrics.json æ ¸å¿ƒæ•°å€¼ vs å®é™… git ç»Ÿè®¡
- enrichment ä¸­ *_source æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- metrics_summary.json ä¸€è‡´æ€§æç¤ºï¼ˆè‹¥å­˜åœ¨ï¼‰
- id_validation.json ä¸­ ID åœ¨æŠ¥å‘Š/æ›´æ–°æ—¥å¿—å¼•ç”¨è¦†ç›–
- ç¼ºå¤±/æœªå¼•ç”¨/æ•°å€¼å·®å¼‚åˆ—å‡ºäº alignment_report.*

è‹¥å¤±è´¥ï¼ˆpass=falseï¼‰ï¼Œéœ€æ•´æ”¹åé‡è·‘ï¼›ä»…åœ¨é€šè¿‡åå†è€ƒè™‘ cleanupã€‚

---

## ğŸ’¡ å¯¹æ¯”åŸåˆ™

### ğŸ¯ æ ¸å¿ƒæ–¹æ³•è®º

#### è‡ªåº•å‘ä¸Šåˆ†ææ³•

- **åŸç†**: ä»åŸºç¡€å·¥å…·å±‚å¼€å§‹ï¼Œé€å±‚å‘ä¸Šåˆ†æä¾èµ–å…³ç³»
- **é¡ºåº**: tools â†’ logic â†’ algorithm â†’ config â†’ docs
- **ä¼˜åŠ¿**: ç¡®ä¿ç†è§£å˜æ›´çš„å®Œæ•´å½±å“é“¾

#### åˆ†é˜¶æ®µå®šæœŸæ€»ç»“

- **åŸç†**: é¿å…ä¸Šä¸‹æ–‡è¿‡è½½ï¼Œä¿æŒåˆ†æè´¨é‡
- **ç­–ç•¥**: æ¯2-5åˆ†é’Ÿæˆ–5-10ä¸ªæ–‡ä»¶åæ€»ç»“
- **è®°å½•**: ä½¿ç”¨æ ‡å‡†æ¨¡æ¿è®°å½•é˜¶æ®µå‘ç°

#### ç‰ˆæœ¬å·¥ä½œåŒºéš”ç¦»

- **åŸç†**: ä½¿ç”¨Git worktreeåˆ›å»ºå®‰å…¨çš„ç‰ˆæœ¬å¯¹æ¯”ç¯å¢ƒ
- **ä½ç½®**: åœ¨åˆ†æç›®å½•å†…ï¼Œç¡®ä¿AIå¯è®¿é—®
- **ç®¡ç†**: åˆ†æå®Œæˆåéœ€ç”¨æˆ·ç¡®è®¤æ‰æ¸…ç†

#### æ¨¡å—åŒ–æ–‡æ¡£ç»„ç»‡

- **åŸç†**: æŒ‰åˆ†æé˜¶æ®µå’Œæ¨¡å—åˆ†åˆ«è®°å½•
- **ç»“æ„**: é˜¶æ®µç›®å½• + æ¨¡å—æ–‡ä»¶ + æ±‡æ€»æŠ¥å‘Š
- **ç´¢å¼•**: ä½¿ç”¨INDEX.mdç»´æŠ¤å¯¼èˆªç»“æ„

### ğŸ“‹ æœ€ä½³å®è·µ

#### å˜æ›´è¯†åˆ«

- é‡ç‚¹å…³æ³¨åŠŸèƒ½æ€§å˜æ›´ï¼Œç•Œé¢å˜æ›´ç®€è¦è®°å½•
- è¯†åˆ«ç ´åæ€§å˜æ›´å’Œå…¼å®¹æ€§å½±å“
- è¯„ä¼°æ€§èƒ½å’Œç¨³å®šæ€§å½±å“

#### æ–‡æ¡£è´¨é‡

- ä½¿ç”¨ç»Ÿä¸€çš„åˆ†ææ¨¡æ¿
- ä¿æŒå®¢è§‚çš„å˜æ›´æè¿°
- æä¾›å…·ä½“çš„ä»£ç ç¤ºä¾‹

#### åä½œæ•ˆç‡

- åŠæ—¶è®°å½•åˆ†æå‘ç°
- å®šæœŸä¸ç”¨æˆ·ç¡®è®¤æ–¹å‘
- ä¿æŒåˆ†æèŠ‚å¥ç¨³å®š

---

## ğŸ“š é™„å½•

### é™„å½•Aï¼šæ¨¡æ¿æ–‡ä»¶è¯´æ˜

| æ¨¡æ¿ | ç‰ˆæœ¬ | åŠŸèƒ½ | å…³é”®ç‰¹æ€§ | ä¸»è¦å˜åŒ– |
|------|------|------|----------|----------|
| mgmt-analysis-index.md | v1 | ä»»åŠ¡å¯¼èˆª/é˜¶æ®µæ€»è§ˆ | é˜¶æ®µè¿›åº¦ + å‘ç°æŒ‡é’ˆ | ID æŒ‡é’ˆæœ€å°åŒ–æè¿° |
| analysis-stage-record.md | v1 | å•é˜¶æ®µæ‰§è¡Œè®°å½• | Checkpoints + é£é™©è¡¨ | å¤š checkpoint æ”¯æŒ |
| report-module-analysis.md | v1 | æ¨¡å—çº§æ·±åº¦å¯¹æ¯” | æ¨¡å—/æ–‡ä»¶/å‡½æ•°å¤šçº§è¡¨ | å†…è”ç ´åæ€§ API & é£é™©è¡¨ |
| report-version-summary.md | v2 | å…¨å±€èšåˆæ€»ç»“ | ID å¼•ç”¨ + JSON æŒ‡æ ‡ | å»é‡ + å¯ä¿¡åº¦å— |
| update-log-template.md | v2 | é¢å‘å‘å¸ƒè¯´æ˜ | äº”æ®µç»“æ„ + æŒ‡æ ‡ JSON | å…¼å®¹æ€§ä¸å·²çŸ¥é—®é¢˜åˆ†ç¦» |
| worktree-setup.md | v1 | å·¥ä½œåŒºå»ºç«‹è®°å½• | è„šæœ¬åŒ–åˆ›å»º/éªŒè¯/æ¸…ç† | å»é™¤ snippet æœºåˆ¶ |

### é™„å½•Bï¼šè„šæœ¬å·¥å…·è¯´æ˜

| è„šæœ¬ | ä½œç”¨ | ä¸»è¦è¾“å‡º | å…¸å‹ä½¿ç”¨é˜¶æ®µ |
|------|------|----------|--------------|
| setup_worktree.ps1 | åˆ›å»ºåŒç‰ˆæœ¬ worktree & åˆå§‹å·®å¼‚æ–‡ä»¶ | commits_overview.txt ç­‰ | æ­¥éª¤6 |
| cleanup_worktree.ps1 | æ¸…ç† worktree ä¸è¾“å‡º | (æ¸…ç†åŠ¨ä½œ) | 10.4 |
| git-encoding-detector.ps1 | **æ™ºèƒ½ç¼–ç æ£€æµ‹å’ŒGitæ•°æ®æå–** â­ | UTF-8ç¼–ç çš„commitsæ–‡ä»¶ï¼Œç¼–ç åˆ†ææŠ¥å‘Š | æ­¥éª¤6 (ç¼–ç é—®é¢˜ä¿®å¤) |
| run-code-metrics.ps1 | å¤šè¯­è¨€ä»£ç è§„æ¨¡/å‡½æ•°èšåˆ | metrics_code_enriched.json | 6 (å¯é€‰) |
| compare-code-metrics.ps1 | Python/C/C++ å·®å¼‚è¡Œ/å‡½æ•°ç»Ÿè®¡ | metrics_summary.json / metrics_files.csv | 6 å / 7.2 |
| generate-summary-metrics.ps1 | æ±‡æ€»æ ¸å¿ƒ & å¯Œé›†æŒ‡æ ‡ | summary_metrics.json | 6/7 ç»“æŸå |
| generate-commits-summary.ps1 | æäº¤åˆ†ç»„æ‘˜è¦ | commits_summary.txt | 6 å / 7.1 |
| extract-breaking-api.ps1 | ç ´åæ€§ API å€™é€‰ | breaking_api_candidates.* | 7.2 / 7.3 |
| generate-module-impact.ps1 | æ¨¡å—å˜æ›´èšåˆ | module_impact.* | 7.3 |
| risk-status-report.ps1 | é£é™©çŠ¶æ€æ±‡æ€» | risk_status.* | 7.3 / 10 |
| validate-ids.ps1 | ID å”¯ä¸€ & å¼•ç”¨ç»Ÿè®¡ | id_validation.* | 10.5 å‰ |
| alignment-checker.ps1 | äº§å‡ºä¸€è‡´æ€§æ ¡éªŒ | alignment_report.* | 10.6 |

> è¯´æ˜ï¼šcompare-code-metrics ä¸ run-code-metrics äº’è¡¥ï¼šå‰è€…é’ˆå¯¹ç‰ˆæœ¬å·®å¼‚ï¼Œåè€…æä¾›æ–°ç‰ˆæœ¬(æˆ–å„ç‰ˆæœ¬)æ•´ä½“è§„æ¨¡ä¸å¤–éƒ¨å·¥å…·ç½®ä¿¡åº¦ï¼›summary_metrics åªç›´æ¥è¯»å– run-code-metrics äº§ç‰©ã€‚encoding-aware-git-extractor-fixed.ps1 ä¸“é—¨ç”¨äºè§£å†³æ··åˆç¼–ç ç¯å¢ƒä¸‹çš„Gitä¿¡æ¯æå–é—®é¢˜ï¼Œæ”¯æŒUTF-8ã€GBKã€GB2312ã€Big5ã€ISO-8859-1ç­‰ç¼–ç ã€‚

### é™„å½•Cï¼šå¸¸è§æ¨¡å—åˆ†æé‡ç‚¹

ä»¥ä¸‹è¡¨æ ¼åˆ—å‡ºäº†å„æ¨¡å—çš„ä¸»è¦åˆ†æé‡ç‚¹ï¼Œä¾›æ­¥éª¤8å¾ªç¯åˆ†ææ—¶å‚è€ƒï¼š

| æ¨¡å— | åˆ†æé‡ç‚¹ | å…³æ³¨è¦ç´  |
|------|----------|----------|
| ğŸ› ï¸ **tools/** | æ–°å¢å·¥å…·ç»„ä»¶å’ŒMCPæœåŠ¡å™¨ã€å…¬å…±ç»„ä»¶é‡æ„ã€æ–‡ä»¶IOå¤„ç†å˜æ›´ã€é…ç½®ç®¡ç†å·¥å…·å˜æ›´ | å·¥å…·åŠŸèƒ½ã€ç»„ä»¶å¤ç”¨ã€æ€§èƒ½ä¼˜åŒ– |
| âš™ï¸ **logic/** | é…ç½®ç®¡ç†ç³»ç»Ÿå˜æ›´ã€é€šä¿¡æ¨¡å—å˜æ›´ã€è®¾è®¡æ¨¡å—å˜æ›´ã€æ–°å¢ä¸šåŠ¡åŠŸèƒ½ | ä¸šåŠ¡é€»è¾‘ã€æ¥å£è®¾è®¡ã€åŠŸèƒ½å®Œæ•´æ€§ |
| ğŸ§® **algorithm/** | æ–°å¢/åˆ é™¤çš„æ ¸å¿ƒç»„ä»¶ã€æ ¸å¿ƒåŠŸèƒ½é€»è¾‘å˜æ›´ã€æ¥å£å˜æ›´å’Œå…¼å®¹æ€§å½±å“ã€æ€§èƒ½ä¼˜åŒ–ç›¸å…³å˜æ›´ | ç®—æ³•å‡†ç¡®æ€§ã€æ€§èƒ½æŒ‡æ ‡ã€æ•°å€¼ç¨³å®šæ€§ |
| ğŸ¨ **ui/** | ç•Œé¢ç»„ä»¶å˜æ›´ã€ç”¨æˆ·äº¤äº’ä¼˜åŒ–ã€æ ·å¼å’Œå¸ƒå±€è°ƒæ•´ | ç”¨æˆ·ä½“éªŒã€ç•Œé¢ä¸€è‡´æ€§ã€äº¤äº’é€»è¾‘ |
| ğŸ’¾ **persistence/** | æ•°æ®å­˜å‚¨æœºåˆ¶å˜æ›´ã€å¤‡ä»½å’Œå¯¼å‡ºåŠŸèƒ½ã€æ•°æ®æ ¼å¼å‡çº§ | æ•°æ®å®Œæ•´æ€§ã€å…¼å®¹æ€§ã€æ€§èƒ½å½±å“ |
| ğŸ“ **file/** | é…ç½®æ–‡ä»¶ç»“æ„å˜æ›´ã€æ–°å¢é…ç½®é¡¹ã€åºŸå¼ƒé…ç½®æ¸…ç†ã€é…ç½®ç®¡ç†æµç¨‹å˜æ›´ | é…ç½®è§„èŒƒã€å‘åå…¼å®¹æ€§ã€æ–‡æ¡£åŒæ­¥ |

> **ä½¿ç”¨è¯´æ˜**: æ ¹æ®æ­¥éª¤7.4çš„ç”¨æˆ·ç¡®è®¤ç»“æœï¼Œé‡ç‚¹åˆ†æç›¸åº”æ¨¡å—çš„å˜æ›´å†…å®¹

---

**å¼€å§‹åˆ†æ**: éµå¾ª10æ­¥æ ‡å‡†æµç¨‹ï¼Œä»ç‰ˆæœ¬å¯¹æ¯”éœ€æ±‚æè¿°å¼€å§‹æ‚¨çš„ç³»ç»ŸåŒ–åˆ†æä¹‹æ—…ã€‚

**è·å–æ”¯æŒ**: æŸ¥çœ‹ `templates/` ç›®å½•è·å–æ ‡å‡†æ¨¡æ¿ï¼Œå‚è€ƒåˆ†æç´¢å¼•äº†è§£è¿›åº¦ç®¡ç†ã€‚

**ç‰ˆæœ¬ä¿¡æ¯**: ç‰ˆæœ¬å¯¹æ¯”å·¥ä½œæµæ¨¡æ¿ v1.0.0 | åŸºäºdebug-systemæ¶æ„è®¾è®¡
